<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- CSS 파일을 연결 -->
    <link href="/css/MainStyles.css" rel="stylesheet" />
</head>
<body>
<!-- 사이드바 -->
<div th:replace="sidebar :: sidebar"></div>

<!-- 메인 콘텐츠 -->
<div class="main-content">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="mb-0">인기 게시글</h3>
        <p th:text="'현재 로그인한 사용자: ' + ${#authentication.name}"></p> <!-- ✅ -->
        <a href="/posts/new" class="btn btn-brand">게시글 작성</a>
    </div>

    <!-- 질문 목록 -->
    <div th:each="post : ${posts}" class="question-box">
        <div class="d-flex justify-content-between">
            <div>
                <h5>
                    <a th:href="@{/posts/{id}(id=${post.id})}" th:text="${post.title}">게시글 제목</a>
                </h5>
                <div class="question-meta">
                    <span th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}">작성일</span> -
                    <span class="text-dark fw-semibold" th:text="${post.writer}">작성자</span>
                </div>
                <div class="mt-2">
                    <span th:each="tag : ${post.hashtags}" class="tag" th:text="${tag.name}">#태그</span>
                </div>
            </div>

        </div>
    </div>

    <!-- 더보기 버튼 -->
    <div class="text-center mt-4">
        <button class="btn btn-outline-secondary btn-sm">더 보기</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
